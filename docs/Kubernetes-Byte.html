<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubernetes Introduction Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style type="text/tailwindcss">
        @layer base {
            html {
                -webkit-tap-highlight-color: transparent;
            }
        }
        @layer utilities {
            .tab-active {
                @apply border-primary-dark text-primary-dark bg-white;
            }
            .content-panel {
                animation: fadeIn 0.5s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#7d0100',
                        'primary-light': '#fff8f6',
                        'secondary-dark': '#513430',
                        'secondary-light': '#ffedea',
                        'background': '#ffdad4',
                        'error': '#de3730',
                        'neutral-dark': '#413a38',
                        'neutral-light': '#fff8f6',
                        'success': '#16a34a',
                        'success-light': '#dcfce7',
                        'error-light': '#fee2e2',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-background font-sans text-neutral-dark antialiased">
    <div class="min-h-screen p-4 sm:p-6 md:p-8">
        <main class="max-w-4xl mx-auto bg-primary-light rounded-2xl shadow-2xl shadow-secondary-dark/20 overflow-hidden">
            <!-- Header Section -->
            <header class="p-6 md:p-8 bg-secondary-light border-b-2 border-background">
                <h1 class="text-3xl md:text-4xl font-bold text-primary-dark mb-2">Kubernetes Introduction</h1>
                <p class="text-lg text-secondary-dark mb-4">An educational report and interactive quiz based on the video.</p>
                <a href="https://www.youtube.com/watch?v=V_z41-Wa3_I" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 bg-primary-dark text-neutral-light font-semibold py-2 px-4 rounded-lg hover:bg-opacity-90 transition-transform duration-300 ease-out transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>
                    Watch Original Video
                </a>
            </header>

            <!-- Tab Navigation -->
            <div class="flex border-b border-background bg-primary-light/50 sticky top-0 z-10">
                <button id="report-tab" class="tab-button flex-1 p-4 font-semibold text-secondary-dark border-b-4 border-transparent transition-colors duration-300">
                    Analysis Report
                </button>
                <button id="quiz-tab" class="tab-button flex-1 p-4 font-semibold text-secondary-dark border-b-4 border-transparent transition-colors duration-300">
                    Interactive Quiz
                </button>
            </div>

            <!-- Content Panels -->
            <div class="p-6 md:p-8">
                <!-- Report Content -->
                <div id="report-content" class="content-panel">
                    <div class="prose prose-lg max-w-none prose-h2:text-primary-dark prose-h3:text-secondary-dark prose-strong:text-secondary-dark prose-ul:list-disc prose-ul:ml-2 prose-li:my-1">
                        <h2>Educational Content Report</h2>
                        
                        <section>
                            <h3>1. Introduction to Kubernetes</h3>
                            <ul>
                                <li><strong>Definition:</strong> Kubernetes is an open-source container orchestration platform.</li>
                                <li><strong>Functionality:</strong> Automates deployment, scaling, and management of containerized applications.</li>
                                <li><strong>Origin:</strong> Evolved from Google's internal container orchestration system, Borg, open-sourced in 2014.</li>
                                <li><strong>Naming Convention (K8s):</strong> An abbreviation where '8' represents the eight letters between 'K' and 'S' in "Kubernetes."</li>
                            </ul>
                        </section>

                        <section>
                            <h3>2. Kubernetes Cluster Architecture</h3>
                            <ul>
                                <li><strong>Cluster Definition:</strong> A set of machines (nodes) used to run containerized applications.</li>
                                <li><strong>Core Pieces:</strong>
                                    <ul class="!list-circle">
                                        <li><strong>Control Plane:</strong> Manages the cluster's state.</li>
                                        <li><strong>Worker Nodes:</strong> Run the containerized application workloads.</li>
                                    </ul>
                                </li>
                                <li><strong>Pods:</strong> The smallest deployable units in Kubernetes, hosting one or more containers.</li>
                            </ul>
                        </section>

                        <div class="grid md:grid-cols-2 gap-6 not-prose my-8">
                            <div class="bg-secondary-light p-6 rounded-lg border border-background">
                                <h3 class="text-xl font-bold text-primary-dark mb-4 mt-0">3. Control Plane Components</h3>
                                <ul class="space-y-3 list-disc list-inside text-secondary-dark">
                                    <li><strong>API Server:</strong> The primary interface for managing the cluster.</li>
                                    <li><strong>etcd:</strong> A key-value store for the cluster's persistent state.</li>
                                    <li><strong>Scheduler:</strong> Places pods onto available worker nodes.</li>
                                    <li><strong>Controller Manager:</strong> Runs controllers to maintain the desired state.</li>
                                </ul>
                            </div>
                            <div class="bg-secondary-light p-6 rounded-lg border border-background">
                                <h3 class="text-xl font-bold text-primary-dark mb-4 mt-0">4. Worker Node Components</h3>
                                <ul class="space-y-3 list-disc list-inside text-secondary-dark">
                                    <li><strong>Kubelet:</strong> Agent on each node that ensures containers are running in a Pod.</li>
                                    <li><strong>Container Runtime:</strong> Software responsible for running containers.</li>
                                    <li><strong>Kube-proxy:</strong> Manages network rules and traffic forwarding.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-6 not-prose my-8">
                            <div class="bg-success-light p-6 rounded-lg border border-success">
                                <h3 class="text-xl font-bold text-green-800 mb-4 mt-0">5. Advantages</h3>
                                <ul class="space-y-3 list-disc list-inside text-secondary-dark">
                                    <li><strong>Scalability & High Availability:</strong> Self-healing, automated rollbacks, and horizontal scaling.</li>
                                    <li><strong>Portability:</strong> Consistent deployment across on-premise, cloud, or hybrid environments.</li>
                                </ul>
                            </div>
                            <div class="bg-error-light p-6 rounded-lg border border-error">
                                <h3 class="text-xl font-bold text-red-800 mb-4 mt-0">6. Disadvantages</h3>
                                <ul class="space-y-3 list-disc list-inside text-secondary-dark">
                                    <li><strong>Complexity:</strong> Steep learning curve and requires expertise for setup and operation.</li>
                                    <li><strong>Cost:</strong> Can be resource-intensive and overkill for smaller applications.</li>
                                </ul>
                            </div>
                        </div>

                        <section>
                            <h3>7. Managed Services & Recommendations</h3>
                            <ul>
                                <li><strong>Managed Services:</strong> Cloud providers (EKS, GKE, AKS) simplify control plane management, ideal for mid-size organizations.</li>
                                <li><strong>Small Organizations:</strong> The "YAGNI" (You Aren't Gonna Need It) principle may apply; evaluate if the overhead is justified.</li>
                            </ul>
                        </section>

                        <hr class="border-background my-8">

                        <section class="bg-secondary-light p-6 rounded-lg">
                            <h3 class="text-xl font-bold text-primary-dark mt-0 mb-4">Key Learning Points</h3>
                            <ul class="space-y-2 list-disc list-inside text-secondary-dark">
                                <li>Kubernetes is a powerful platform for orchestrating containerized applications.</li>
                                <li>Its architecture includes a Control Plane and Worker Nodes.</li>
                                <li>Key components work together to manage application lifecycle and networking.</li>
                                <li>It offers major benefits in scalability and portability but comes with complexity and cost.</li>
                                <li>Managed services can ease adoption, but careful evaluation is crucial for all team sizes.</li>
                            </ul>
                        </section>
                    </div>
                </div>
                <!-- Quiz Content -->
                <div id="quiz-content" class="content-panel hidden">
                    <div id="quiz-container" class="max-w-2xl mx-auto">
                        <div class="mb-6">
                            <div class="flex justify-between items-center mb-2">
                                <p class="text-sm font-medium text-secondary-dark">Question <span id="question-number">1</span> of <span id="total-questions">11</span></p>
                                <p class="text-sm font-medium text-primary-dark">Score: <span id="quiz-score">0</span></p>
                            </div>
                            <div class="w-full bg-secondary-light rounded-full h-2.5">
                                <div id="progress-bar" class="bg-primary-dark h-2.5 rounded-full transition-all duration-500 ease-out"></div>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md min-h-[20rem]">
                            <h3 id="question-text" class="text-xl font-semibold text-neutral-dark mb-6">Question text will be loaded here.</h3>
                            <div id="options-container" class="space-y-3"></div>
                        </div>
                        <div class="flex justify-between mt-8">
                            <button id="prev-btn" class="bg-secondary-light text-secondary-dark font-semibold py-2 px-6 rounded-lg hover:bg-background transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed">Previous</button>
                            <button id="next-btn" class="bg-primary-dark text-neutral-light font-semibold py-2 px-6 rounded-lg hover:bg-opacity-90 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed">Next</button>
                        </div>
                    </div>
                    <div id="results-container" class="text-center hidden">
                        <h2 class="text-3xl font-bold text-primary-dark mb-4">Quiz Complete!</h2>
                        <p class="text-lg text-secondary-dark mb-2">Your final score is:</p>
                        <p class="text-5xl font-extrabold text-primary-dark mb-8"><span id="final-score">0</span> / <span id="total-score">11</span></p>
                        <div id="score-message" class="mb-8 text-secondary-dark text-lg"></div>
                        <button id="retry-btn" class="bg-primary-dark text-neutral-light font-semibold py-3 px-8 rounded-lg hover:bg-opacity-90 transition-transform duration-300 ease-out transform hover:scale-105">Try Again</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Tab Switching Logic ---
            const reportTab = document.getElementById('report-tab');
            const quizTab = document.getElementById('quiz-tab');
            const reportContent = document.getElementById('report-content');
            const quizContent = document.getElementById('quiz-content');

            function setActiveTab(tab) {
                reportTab.classList.remove('tab-active');
                quizTab.classList.remove('tab-active');
                tab.classList.add('tab-active');
            }

            quizTab.addEventListener('click', () => {
                reportContent.classList.add('hidden');
                quizContent.classList.remove('hidden');
                setActiveTab(quizTab);
            });

            reportTab.addEventListener('click', () => {
                quizContent.classList.add('hidden');
                reportContent.classList.remove('hidden');
                setActiveTab(reportTab);
            });
            
            setActiveTab(reportTab); // Set initial active tab

            // --- Quiz Logic ---
            const quizData = [
                { question: "What is the primary function of Kubernetes?", options: ["To develop new containerized applications.", "To provide a programming language for cloud development.", "To automate the deployment, scaling, and management of containerized applications.", "To manage virtual machines on a local server."], correctAnswerIndex: 2 },
                { question: "From which internal Google system did Kubernetes originate?", options: ["Andromeda", "Spanner", "Borg", "Fushia"], correctAnswerIndex: 2 },
                { question: "What does the \"8\" in \"K8s\" represent in the abbreviation for Kubernetes?", options: ["The number of core components in a Kubernetes cluster.", "The number of years Google worked on Borg before open-sourcing it.", "The eight letters between the first letter 'K' and the last letter 'S' in \"Kubernetes.\"", "The version number of the initial open-source release."], correctAnswerIndex: 2 },
                { question: "Which of the following best describes a Pod in Kubernetes?", options: ["A virtual machine that runs an entire operating system.", "The smallest deployable unit that hosts one or more containers and provides shared resources.", "A high-level abstraction that manages multiple clusters.", "A component responsible for storing the cluster's persistent state."], correctAnswerIndex: 1 },
                { question: "What is the primary role of the Control Plane in a Kubernetes cluster?", options: ["To run the containerized application workloads.", "To provide shared storage for all applications.", "To manage the state of the cluster.", "To interface directly with end-users."], correctAnswerIndex: 2 },
                { question: "Which Control Plane component exposes a RESTful API for clients to interact with the cluster?", options: ["etcd", "Scheduler", "API Server", "Controller Manager"], correctAnswerIndex: 2 },
                { question: "What is the function of the Scheduler component in the Kubernetes Control Plane?", options: ["To manage rolling updates and rollbacks of deployments.", "To store the cluster's persistent state.", "To place pods onto worker nodes based on resource requirements and availability.", "To ensure a desired number of replicas of a pod are running."], correctAnswerIndex: 2 },
                { question: "Which component runs as a daemon on each worker node and is responsible for communicating with the control plane to ensure the desired state of pods is maintained?", options: ["Kube-proxy", "Container Runtime", "etcd", "Kubelet"], correctAnswerIndex: 3 },
                { question: "What is one of the key advantages of using Kubernetes for application deployment?", options: ["It eliminates the need for any underlying infrastructure.", "It guarantees zero operational costs.", "It offers scalability, high availability, and portability across different environments.", "It simplifies application development by providing pre-built code."], correctAnswerIndex: 2 },
                { question: "What is identified as a primary drawback of Kubernetes, especially for organizations new to container orchestration?", options: ["Lack of community support.", "Limited functionality compared to other platforms.", "High complexity and significant expertise required for setup and operation.", "Inability to integrate with public cloud providers."], correctAnswerIndex: 2 },
                { question: "For a mid-size organization exploring Kubernetes, what is a recommended option to mitigate the complexity of managing the control plane?", options: ["Developing a custom container orchestration system.", "Completely avoiding containerization.", "Utilizing managed Kubernetes services provided by cloud providers.", "Hiring a large dedicated on-premise team for full management."], correctAnswerIndex: 2 }
            ];

            const quizContainer = document.getElementById('quiz-container');
            const resultsContainer = document.getElementById('results-container');
            const questionNumberEl = document.getElementById('question-number');
            const totalQuestionsEl = document.getElementById('total-questions');
            const quizScoreEl = document.getElementById('quiz-score');
            const progressBar = document.getElementById('progress-bar');
            const questionTextEl = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const finalScoreEl = document.getElementById('final-score');
            const totalScoreEl = document.getElementById('total-score');
            const scoreMessageEl = document.getElementById('score-message');
            const retryBtn = document.getElementById('retry-btn');

            let currentQuestionIndex = 0;
            let userAnswers = new Array(quizData.length).fill(null);
            let score = 0;

            function startQuiz() {
                currentQuestionIndex = 0;
                userAnswers.fill(null);
                score = 0;
                quizContainer.classList.remove('hidden');
                resultsContainer.classList.add('hidden');
                renderQuestion(currentQuestionIndex);
                updateScore();
                updateProgress();
            }

            function renderQuestion(index) {
                const question = quizData[index];
                questionTextEl.textContent = question.question;
                optionsContainer.innerHTML = '';
                
                question.options.forEach((option, i) => {
                    const optionButton = document.createElement('button');
                    optionButton.className = 'w-full text-left p-4 border-2 border-secondary-light rounded-lg hover:border-primary-dark transition-all duration-200 transform hover:scale-[1.02]';
                    optionButton.innerHTML = `<span class="font-bold mr-3 py-1 px-2.5 bg-secondary-light text-secondary-dark rounded-md">${String.fromCharCode(65 + i)}</span> ${option}`;
                    optionButton.dataset.index = i;
                    optionButton.addEventListener('click', handleOptionSelect);
                    optionsContainer.appendChild(optionButton);
                });

                questionNumberEl.textContent = index + 1;
                updateNavigationButtons();
                restoreAnswerState();
            }

            function handleOptionSelect(event) {
                if (userAnswers[currentQuestionIndex] !== null) return;

                const selectedButton = event.currentTarget;
                const selectedIndex = parseInt(selectedButton.dataset.index);
                userAnswers[currentQuestionIndex] = selectedIndex;
                const correctIndex = quizData[currentQuestionIndex].correctAnswerIndex;

                if (selectedIndex === correctIndex) score++;
                
                updateScore();
                updateProgress();
                restoreAnswerState(); // This will now color the buttons based on the new answer
                updateNavigationButtons();

                if (userAnswers.every(answer => answer !== null)) {
                    setTimeout(showResults, 1000);
                }
            }
            
            function restoreAnswerState() {
                const userAnswer = userAnswers[currentQuestionIndex];
                const optionButtons = optionsContainer.querySelectorAll('button');
                
                if (userAnswer !== null) {
                    const correctIndex = quizData[currentQuestionIndex].correctAnswerIndex;
                    optionButtons.forEach((btn, i) => {
                        btn.disabled = true;
                        btn.classList.remove('hover:border-primary-dark', 'hover:scale-[1.02]');
                        if (i === correctIndex) {
                            btn.classList.add('bg-success-light', 'border-success', 'text-green-800', 'font-semibold');
                        }
                        if (i === userAnswer && userAnswer !== correctIndex) {
                            btn.classList.add('bg-error-light', 'border-error', 'text-red-800', 'font-semibold');
                        }
                    });
                }
            }

            function updateNavigationButtons() {
                prevBtn.disabled = currentQuestionIndex === 0;
                nextBtn.disabled = currentQuestionIndex === quizData.length - 1;
            }

            function updateScore() {
                quizScoreEl.textContent = score;
            }

            function updateProgress() {
                const answeredCount = userAnswers.filter(answer => answer !== null).length;
                const progressPercentage = (answeredCount / quizData.length) * 100;
                progressBar.style.width = `${progressPercentage}%`;
            }

            function showResults() {
                quizContainer.classList.add('hidden');
                resultsContainer.classList.remove('hidden');
                finalScoreEl.textContent = score;
                const percentage = Math.round((score / quizData.length) * 100);
                let message = '';
                if (percentage === 100) message = "Perfect score! You're a Kubernetes expert!";
                else if (percentage >= 80) message = "Excellent job! You have a strong understanding of Kubernetes.";
                else if (percentage >= 50) message = "Good effort! A little more study and you'll be a pro.";
                else message = "Keep learning! Review the report and try the quiz again.";
                scoreMessageEl.textContent = message;
            }

            prevBtn.addEventListener('click', () => {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    renderQuestion(currentQuestionIndex);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentQuestionIndex < quizData.length - 1) {
                    currentQuestionIndex++;
                    renderQuestion(currentQuestionIndex);
                }
            });

            retryBtn.addEventListener('click', startQuiz);

            // Initial setup
            totalQuestionsEl.textContent = quizData.length;
            totalScoreEl.textContent = quizData.length;
            startQuiz();
        });
    </script>
</body>
</html>
